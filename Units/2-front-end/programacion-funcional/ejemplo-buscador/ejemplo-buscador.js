let datos = [{
  "nombre_especie": "Bilateria Nephrozoa",
  "recuento": 82
}, {
  "nombre_especie": "Canis dingo",
  "recuento": 24
}, {
  "nombre_especie": "Antilocapra americana",
  "recuento": 37
}, {
  "nombre_especie": "Papio cynocephalus",
  "recuento": 92
}, {
  "nombre_especie": "Tamiasciurus hudsonicus",
  "recuento": 97
}, {
  "nombre_especie": "Sciurus vulgaris",
  "recuento": 86
}, {
  "nombre_especie": "Egretta thula",
  "recuento": 12
}, {
  "nombre_especie": "Bassariscus astutus",
  "recuento": 42
}, {
  "nombre_especie": "Papio cynocephalus",
  "recuento": 93
}, {
  "nombre_especie": "Bradypus tridactylus",
  "recuento": 84
}, {
  "nombre_especie": "Macaca mulatta",
  "recuento": 38
}, {
  "nombre_especie": "Nannopterum harrisi",
  "recuento": 91
}, {
  "nombre_especie": "Propithecus verreauxi",
  "recuento": 53
}, {
  "nombre_especie": "Cordylus giganteus",
  "recuento": 11
}, {
  "nombre_especie": "Gazella granti",
  "recuento": 28
}, {
  "nombre_especie": "Choriotis kori",
  "recuento": 4
}, {
  "nombre_especie": "Coluber constrictor",
  "recuento": 27
}, {
  "nombre_especie": "Ardea golieth",
  "recuento": 62
}, {
  "nombre_especie": "Macaca mulatta",
  "recuento": 23
}, {
  "nombre_especie": "Melophus lathami",
  "recuento": 73
}, {
  "nombre_especie": "Pseudalopex gymnocercus",
  "recuento": 35
}, {
  "nombre_especie": "Diomedea irrorata",
  "recuento": 14
}, {
  "nombre_especie": "Microcavia australis",
  "recuento": 59
}, {
  "nombre_especie": "Lorythaixoides concolor",
  "recuento": 39
}, {
  "nombre_especie": "Corallus hortulanus cooki",
  "recuento": 96
}, {
  "nombre_especie": "Ovis dalli stonei",
  "recuento": 71
}, {
  "nombre_especie": "Streptopelia senegalensis",
  "recuento": 22
}, {
  "nombre_especie": "Geochelone radiata",
  "recuento": 54
}, {
  "nombre_especie": "Ratufa indica",
  "recuento": 88
}, {
  "nombre_especie": "Manouria emys",
  "recuento": 68
}, {
  "nombre_especie": "Equus burchelli",
  "recuento": 31
}, {
  "nombre_especie": "Mazama gouazoubira",
  "recuento": 25
}, {
  "nombre_especie": "Paraxerus cepapi",
  "recuento": 73
}, {
  "nombre_especie": "Manouria emys",
  "recuento": 31
}, {
  "nombre_especie": "Macropus agilis",
  "recuento": 99
}, {
  "nombre_especie": "Giraffe camelopardalis",
  "recuento": 44
}, {
  "nombre_especie": "Eumetopias jubatus",
  "recuento": 64
}, {
  "nombre_especie": "Pavo cristatus",
  "recuento": 67
}, {
  "nombre_especie": "Oreotragus oreotragus",
  "recuento": 93
}, {
  "nombre_especie": "Sciurus vulgaris",
  "recuento": 86
}, {
  "nombre_especie": "Laniaurius atrococcineus",
  "recuento": 47
}, {
  "nombre_especie": "Bubalornis niger",
  "recuento": 11
}, {
  "nombre_especie": "Antechinus flavipes",
  "recuento": 61
}, {
  "nombre_especie": "Aegypius tracheliotus",
  "recuento": 27
}, {
  "nombre_especie": "Antilope cervicapra",
  "recuento": 75
}, {
  "nombre_especie": "Zalophus californicus",
  "recuento": 20
}, {
  "nombre_especie": "Sarcorhamphus papa",
  "recuento": 64
}, {
  "nombre_especie": "Zalophus californicus",
  "recuento": 23
}, {
  "nombre_especie": "Bassariscus astutus",
  "recuento": 61
}, {
  "nombre_especie": "Cacatua tenuirostris",
  "recuento": 29
}, {
  "nombre_especie": "Ursus americanus",
  "recuento": 53
}, {
  "nombre_especie": "Felis serval",
  "recuento": 16
}, {
  "nombre_especie": "Spizaetus coronatus",
  "recuento": 42
}, {
  "nombre_especie": "Eubalaena australis",
  "recuento": 32
}, {
  "nombre_especie": "Cordylus giganteus",
  "recuento": 49
}, {
  "nombre_especie": "Mazama americana",
  "recuento": 98
}, {
  "nombre_especie": "Heloderma horridum",
  "recuento": 27
}, {
  "nombre_especie": "Anas punctata",
  "recuento": 71
}, {
  "nombre_especie": "Gopherus agassizii",
  "recuento": 24
}, {
  "nombre_especie": "Zenaida galapagoensis",
  "recuento": 78
}, {
  "nombre_especie": "Canino",
  "recuento": 81
}, {
  "nombre_especie": "Sauromalus obesus",
  "recuento": 29
}, {
  "nombre_especie": "Bubulcus ibis",
  "recuento": 54
}, {
  "nombre_especie": "Sarcophilus harrisii",
  "recuento": 62
}, {
  "nombre_especie": "Streptopelia senegalensis",
  "recuento": 52
}, {
  "nombre_especie": "Cebus apella",
  "recuento": 25
}, {
  "nombre_especie": "Macropus rufogriseus",
  "recuento": 52
}, {
  "nombre_especie": "Naja haje",
  "recuento": 17
}, {
  "nombre_especie": "Psophia viridis",
  "recuento": 91
}, {
  "nombre_especie": "Macropus rufus",
  "recuento": 99
}, {
  "nombre_especie": "Fulica cristata",
  "recuento": 32
}, {
  "nombre_especie": "Thamnolaea cinnmomeiventris",
  "recuento": 41
}, {
  "nombre_especie": "Varanus albigularis",
  "recuento": 87
}, {
  "nombre_especie": "Platalea leucordia",
  "recuento": 1
}, {
  "nombre_especie": "Ardea golieth",
  "recuento": 89
}, {
  "nombre_especie": "Mazama gouazoubira",
  "recuento": 66
}, {
  "nombre_especie": "Bassariscus astutus",
  "recuento": 20
}, {
  "nombre_especie": "Cercatetus concinnus",
  "recuento": 32
}, {
  "nombre_especie": "Oreamnos americanus",
  "recuento": 48
}, {
  "nombre_especie": "Canis lupus",
  "recuento": 65
}, {
  "nombre_especie": "Cervus duvauceli",
  "recuento": 11
}, {
  "nombre_especie": "Pycnonotus nigricans",
  "recuento": 31
}, {
  "nombre_especie": "Halcyon smyrnesis",
  "recuento": 65
}, {
  "nombre_especie": "Laniarius ferrugineus",
  "recuento": 13
}, {
  "nombre_especie": "Martes pennanti",
  "recuento": 47
}, {
  "nombre_especie": "Oxybelis fulgidus",
  "recuento": 45
}, {
  "nombre_especie": "Cebus apella",
  "recuento": 70
}, {
  "nombre_especie": "Coracias caudata",
  "recuento": 68
}, {
  "nombre_especie": "Eumetopias jubatus",
  "recuento": 50
}, {
  "nombre_especie": "Cabassous sp.",
  "recuento": 53
}, {
  "nombre_especie": "Smithopsis crassicaudata",
  "recuento": 79
}, {
  "nombre_especie": "Lasiodora parahybana",
  "recuento": 94
}, {
  "nombre_especie": "Taurotagus oryx",
  "recuento": 94
}, {
  "nombre_especie": "Bos frontalis",
  "recuento": 86
}, {
  "nombre_especie": "Canis aureus",
  "recuento": 36
}, {
  "nombre_especie": "Meles meles",
  "recuento": 88
}, {
  "nombre_especie": "Oryx gazella callotis",
  "recuento": 24
}, {
  "nombre_especie": "Haliaetus vocifer",
  "recuento": 98
}, {
  "nombre_especie": "Himantopus himantopus",
  "recuento": 33
}, {
  "nombre_especie": "Gyps bengalensis",
  "recuento": 39
}];

let orden = "ascendente";

function nombreAscendente() {
  orden = "ascendente";
  actualizarLista();
}

function nombreDescendente() {
  orden = "descendente";
  actualizarLista();
}

function numeroAscendente() {
  orden = "num-ascendente";
  actualizarLista();
}

function numeroDescendente() {
  orden = "num-descendente";
  actualizarLista();
}

function actualizarLista() {

  let listaOrdenada = [];

  // Si el orden está definido como ascendente, ordenar como ascendete y guardar en listaOrdenada
  if (orden === "ascendente") {
    listaOrdenada = [...datos].sort(
      (a, b) => {
        if (a.nombre_especie.toLowerCase() < b.nombre_especie.toLowerCase()) return -1;  // resultado correcto
        if (a.nombre_especie.toLowerCase() > b.nombre_especie.toLowerCase()) return 1;
        return 0;
      }
    )
  }
  // Si el orden está definido como descendente, ordenar como descendente y guardar en listaOrdenada
  else if (orden === "descendente") {
    listaOrdenada = [...datos].sort(
      (a, b) => {
        if (a.nombre_especie.toLowerCase() > b.nombre_especie.toLowerCase()) return -1;
        if (a.nombre_especie.toLowerCase() < b.nombre_especie.toLowerCase()) return 1;
        return 0;
      }
    )
  }
  // Si el orden definido no es ni ascendente ni descendente, no ordenar
  else if (orden === "num-ascendente") {
    listaOrdenada = [...datos].sort(
      (a, b) => {
        if (a.recuento < b.recuento) return -1;  // resultado correcto
        if (a.recuento > b.recuento) return 1;
        return 0;
      }
    )
  }
  else if (orden === "num-descendente") {
    listaOrdenada = [...datos].sort(
      (a, b) => {
        if (a.recuento > b.recuento) return -1;
        if (a.recuento < b.recuento) return 1;
        return 0;
      }
    )
  }
  // Si el orden definido no es ni ascendente ni descendente, no ordenar
  else {
    listaOrdenada = [...datos];
  }

  let textoBuscado = document.getElementById("barra-busqueda").value;
  // console.log(textoBuscado);

  let listaFiltrada = listaOrdenada.filter(
    animal => animal.nombre_especie.toLowerCase().includes(textoBuscado.toLowerCase())
  );

  document.getElementById("lista").innerHTML =
    listaFiltrada
      .map(
        x => `<div> ${x.nombre_especie} (${x.recuento}) </div>`
      ).join("\n")
}
